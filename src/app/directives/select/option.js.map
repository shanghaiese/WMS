{"version":3,"sources":["select/option.ts"],"names":[],"mappings":";;;;;;;;;OAAO,EACL,SAAS,EACT,UAAU,EACV,YAAY,EACZ,KAAK,EACL,MAAM,EACN,QAAQ,EACR,iBAAiB,EAClB,MAAM,eAAe;OACf,EAAC,KAAK,EAAE,KAAK,EAAC,MAAM,2BAA2B;OAC/C,EAAC,qBAAqB,EAAC,MAAM,mCAAmC;AAEvE;;;GAGG;AACH,IAAI,gBAAgB,GAAG,CAAC,CAAC;AAoBzB;IA0BE,kBAAoB,QAAoB,EAAU,SAAmB;QAAjD,aAAQ,GAAR,QAAQ,CAAY;QAAU,cAAS,GAAT,SAAS,CAAU;QAzB7D,cAAS,GAAY,KAAK,CAAC;QAEnC,uCAAuC;QAC/B,cAAS,GAAY,KAAK,CAAC;QAE3B,QAAG,GAAW,sBAAoB,gBAAgB,EAAI,CAAC;QAiB/D,iDAAiD;QACvC,aAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;IAEgC,CAAC;IAjBzE,sBAAI,wBAAE;QADN,mCAAmC;aACnC,cAAW,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;;;OAAA;IAM7B,sBAAI,8BAAQ;aAAZ;YACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;aAED,UAAa,KAAU;YACrB,IAAI,CAAC,SAAS,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;QAChD,CAAC;;;OAJA;IAYD,sBAAI,8BAAQ;QADZ,uDAAuD;aACvD;YACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;;;OAAA;IAOD,sBAAI,+BAAS;QALb;;;;WAIG;aACH;YACE,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACnD,CAAC;;;OAAA;IAED,0BAA0B;IAC1B,yBAAM,GAAN;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,4BAA4B;IAC5B,2BAAQ,GAAR;QACE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,mCAAmC;IACnC,wBAAK,GAAL;QACE,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,OAAO,CAAC,CAAC;IACtE,CAAC;IAED,uEAAuE;IACvE,iCAAc,GAAd,UAAe,KAAoB;QACjC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,IAAI,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC;IACH,CAAC;IAGD;;;OAGG;IACH,wCAAqB,GAArB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,+EAA+E;IAC/E,+BAAY,GAAZ;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,GAAG,CAAC;IACpC,CAAC;IAED,kCAAe,GAAf;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;IACrC,CAAC;IAxED;QAAC,KAAK,EAAE;;2CAAA;IAER;QAAC,KAAK,EAAE;;4CAAA;IAUR;QAAC,MAAM,EAAE;;8CAAA;IA1CX;QAAC,SAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,WAAW;YACrB,IAAI,EAAE;gBACJ,MAAM,EAAE,QAAQ;gBAChB,iBAAiB,EAAE,gBAAgB;gBACnC,qBAAqB,EAAE,UAAU;gBACjC,MAAM,EAAE,IAAI;gBACZ,sBAAsB,EAAE,qBAAqB;gBAC7C,sBAAsB,EAAE,qBAAqB;gBAC7C,4BAA4B,EAAE,UAAU;gBACxC,SAAS,EAAE,yBAAyB;gBACpC,WAAW,EAAE,wBAAwB;aACtC;YACD,WAAW,EAAE,aAAa;YAC1B,SAAS,EAAE,CAAC,YAAY,CAAC;YACzB,aAAa,EAAE,iBAAiB,CAAC,IAAI;SACtC,CAAC;;gBAAA;IAuFF,eAAC;AAAD,CAtFA,AAsFC,IAAA","file":"option.js","sourcesContent":["import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  Renderer,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport {ENTER, SPACE} from '../core/keyboard/keycodes';\r\nimport {coerceBooleanProperty} from '../core/coersion/boolean-property';\r\n\r\n/**\r\n * Option IDs need to be unique across components, so this counter exists outside of\r\n * the component definition.\r\n */\r\nlet _uniqueIdCounter = 0;\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md-option',\r\n  host: {\r\n    'role': 'option',\r\n    '[attr.tabindex]': '_getTabIndex()',\r\n    '[class.md-selected]': 'selected',\r\n    '[id]': 'id',\r\n    '[attr.aria-selected]': 'selected.toString()',\r\n    '[attr.aria-disabled]': 'disabled.toString()',\r\n    '[class.md-option-disabled]': 'disabled',\r\n    '(click)': '_selectViaInteraction()',\r\n    '(keydown)': '_handleKeydown($event)'\r\n  },\r\n  templateUrl: 'option.html',\r\n  styleUrls: ['select.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MdOption {\r\n  private _selected: boolean = false;\r\n\r\n  /** Whether the option is disabled.  */\r\n  private _disabled: boolean = false;\r\n\r\n  private _id: string = `md-select-option-${_uniqueIdCounter++}`;\r\n\r\n  /** The unique ID of the option. */\r\n  get id() { return this._id; }\r\n\r\n  /** The form value of the option. */\r\n  @Input() value: any;\r\n\r\n  @Input()\r\n  get disabled() {\r\n    return this._disabled;\r\n  }\r\n\r\n  set disabled(value: any) {\r\n    this._disabled = coerceBooleanProperty(value);\r\n  }\r\n\r\n  /** Event emitted when the option is selected. */\r\n  @Output() onSelect = new EventEmitter();\r\n\r\n  constructor(private _element: ElementRef, private _renderer: Renderer) {}\r\n\r\n  /** Whether or not the option is currently selected. */\r\n  get selected(): boolean {\r\n    return this._selected;\r\n  }\r\n\r\n  /**\r\n   * The displayed value of the option. It is necessary to show the selected option in the\r\n   * select's trigger.\r\n   * TODO(kara): Add input property alternative for node envs.\r\n   */\r\n  get viewValue(): string {\r\n    return this._getHostElement().textContent.trim();\r\n  }\r\n\r\n  /** Selects the option. */\r\n  select(): void {\r\n    this._selected = true;\r\n    this.onSelect.emit();\r\n  }\r\n\r\n  /** Deselects the option. */\r\n  deselect(): void {\r\n    this._selected = false;\r\n  }\r\n\r\n  /** Sets focus onto this option. */\r\n  focus(): void {\r\n    this._renderer.invokeElementMethod(this._getHostElement(), 'focus');\r\n  }\r\n\r\n  /** Ensures the option is selected when activated from the keyboard. */\r\n  _handleKeydown(event: KeyboardEvent): void {\r\n    if (event.keyCode === ENTER || event.keyCode === SPACE) {\r\n      this._selectViaInteraction();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Selects the option while indicating the selection came from the user. Used to\r\n   * determine if the select's view -> model callback should be invoked.\r\n   */\r\n  _selectViaInteraction() {\r\n    if (!this.disabled) {\r\n      this._selected = true;\r\n      this.onSelect.emit(true);\r\n    }\r\n  }\r\n\r\n  /** Returns the correct tabindex for the option depending on disabled state. */\r\n  _getTabIndex() {\r\n    return this.disabled ? '-1' : '0';\r\n  }\r\n\r\n  _getHostElement(): HTMLElement {\r\n    return this._element.nativeElement;\r\n  }\r\n\r\n}\r\n"]}